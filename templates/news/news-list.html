{% extends "layout/template-base.html" %}

{% block title %}MSX Center - News{% endblock %}

{% block extracss %}
    <link rel="stylesheet" href="/static/css/news.css">
{% endblock %}

{% macro news_sidebar_most_popular() %}
<h4 class="news-section-divider">Most popular</h4>
<p class="text-muted">The most visited news items of the last 90 days;</p>
<ol>
	<li><a href="#">Something happened in that user meeting</a></li>
	<li><a href="#">The French fries in this Burger King are too salty</a></li>
	<li><a href="#">The French fries in this Burger King are too salty</a></li>
	<li><a href="#">The French fries in this Burger King are too salty</a></li>
	<li><a href="#">Nintendo won't release more games for MSX computers</a></li>
	<li><a href="#">Tecnobytes releases new FC SAN interface cartridge</a></li>
	<li><a href="#">Tecnobytes releases new FC SAN interface cartridge</a></li>
	<li><a href="#">Tecnobytes releases new FC SAN interface cartridge</a></li>
	<li><a href="#">The msx.org web server found dead under a bridge (again)</a></li>
	<li><a href="#">The msx.org web server found dead under a bridge (again)</a></li>
</ol>
{% endmacro %}

{% macro news_sidebar_sponsor() %}
<h4 class="news-section-divider">Sponsor</h4>
<div class="text-center"><img src="/static/img/Ads/googleads-200x200.png"></div>
{% endmacro %}

{% macro news_sidebar_archive() %}
<h4 class="news-section-divider">News archive </h4>
<ul>
	<li><a href="#">March 2017 (12 items)</a></li>
	<li><a href="#">February 2017 (8 items)</a></li>
	<li><a href="#">January 2017 (1 item)</a></li>
	<li><a href="#">December 2016 (15 items)</a></li>
</ul>
{% endmacro %}

{% macro news_item_big(item) %}
<a href="{{ url_for('page_news_item', news_item_id=item_id, slug=item.slug) }}">
	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 news-column">
		<div class="news-item">
			{% if item.category %}<h5 class="text-uppercase">{{ item.category.name_en }}</h5>{% endif %}
			{% if item.header_image_id %}<img src="{{ url_for('send_image', image_id=item.header_image_id, dummy_filename='newsite') }}" class="img-responsive">{% endif %}
			<h3>{{ item.headline_en|safe }}</h3>
			{% if item.subhead_en %}<h4>{{ item.subhead_en|safe }}</h4>{% endif %}
			{# XXX <p class="news-item-date">Posted on {{ date.strftime('%b %-d, %Y') }} by <a href="#">{{ item.author.real_name }}</a></p> #}{# replace author with author.name and a link to this member's profile after passing an actual user object #}
			<p class="news-item-date">Posted on {{ item.date_published.strftime('%b %-d, %Y') }} by <a href="#">{{ item.author.real_name }}</a></p>
			<div class="news-item-body text-justify">{{ item.summary_en|supress_none }}</div>
			<div class="news-item-comment text-right">
			{% if item.is_full %}
				{% if item.num_comments %}
					<span><i class="fa fa-comment"></i> <a href="#">Read comments ({{ item.num_comments }})</a></span>
				{% else %}
					<span><i class="fa fa-pencil"></i> <a href="#">Write a comment</a></span>
				{% endif %}
			{% else %}
				<span><i class="fa fa-comment"></i> <a href="#">Read full text and comment ({{ item.num_comments }})</a></span>
			{% endif %}
			</div>
		</div>
	</div>
</a>
{% endmacro %}

{% block content %}
<div class="row">
	<div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
		<h4 class="news-section-divider">Recent news</h4>
		<div class="row">
			{{ news_item_big(items[0]) }}
			{{ news_item_big(items[1]) }}
		</div>
		<div class="row">
			{{ news_item_big(items[2]) }}
			{{ news_item_big(items[3]) }}
		</div>
	</div>

	{# sidebar #} 
	<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
		{{ news_sidebar_sponsor() }}
		{{ news_sidebar_most_popular() }}
		{{ news_sidebar_archive() }}
	</div>
</div>

{# pagination #}
<div class="row">
	<div class="col-md-12">
		<nav>
			<ul class="pagination">
				<li><a aria-label="Previous"><span aria-hidden="true">«</span></a></li>
				<li><a>1</a></li>
				<li><a>2</a></li>
				<li><a>3</a></li>
				<li><a>4</a></li>
				<li><a>5</a></li>
				<li><a aria-label="Next"><span aria-hidden="true">»</span></a></li>
			</ul>
		</nav>
	</div>
</div>
{% endblock %}
